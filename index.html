<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Perfume Luxe</title>
  <link rel="stylesheet" href="css/style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/> 
</head>
<body>
  <header>
    <div class="container">
      <h1 class="logo roxo">Perfume Luxe</h1>
      <nav>
        <ul class="menu">
          <li><a href="#">Home</a></li>
          <li><a href="#">Perfumes</a></li>
          <li><a href="#">Contato</a></li>
        </ul>
      </nav>
      <div class="login-cadastro">
        <a href="login.html" class="roxo" id="login-link">Entrar</a>
        <a href="cadastro.html" class="roxo" id="cadastro-link">Cadastrar</a>
        <button class="carrinho-btn roxo" onclick="window.location.href='carrinho.html'">ðŸ›’ Carrinho</button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <h2>FragrÃ¢ncia, Qualidade e Felicidade!</h2>
      <h3>Ofertas Especiais</h3>

      <div class="carousel">
        <div class="carousel-track">
          <img src="img/perfume1.jpg" alt="Perfume 1">
          <img src="img/perfume4.jpg" alt="Perfume 2">
          <img src="img/perfume1.jpg" alt="Perfume 3">
          <img src="img/perfume4.jpg" alt="Perfume 4">
          <img src="img/perfume1.jpg" alt="Perfume 5">
          <img src="img/perfume4.jpg" alt="Perfume 6">
          <!--DUPLICANDO O CAROUSEL-->
          <img src="img/perfume1.jpg" alt="Perfume 1">
          <img src="img/perfume4.jpg" alt="Perfume 2">
          <img src="img/perfume1.jpg" alt="Perfume 3">
          <img src="img/perfume4.jpg" alt="Perfume 4">
          <img src="img/perfume1.jpg" alt="Perfume 5">
          <img src="img/perfume4.jpg" alt="Perfume 6">
        </div>
      </div>

      <h3>Confira:</h3>
      <div class="produtos-grid">
        <div class="produto" onclick="mostrarPopup('img/perfume1.jpg', 'Perfume Elegance', 'Notas amadeiradas e envolventes para ocasiÃµes especiais.', 'R$ 159,90')">
          <img src="img/perfume1.jpg" alt="Perfume 1">
          <p><strong>Perfume Elegance</strong></p>
          <p class="preco">R$ 159,90</p>
          <span class="ver-mais">Ver mais</span>
        </div>

        <div class="produto" onclick="mostrarPopup('img/perfume4.jpg', 'Perfume Summer', 'Fresco, cÃ­trico e perfeito para os dias quentes.', 'R$ 129,90')">
          <img src="img/perfume4.jpg" alt="Perfume 4">
          <p><strong>Perfume Summer</strong></p>
          <p class="preco">R$ 129,90</p>
          <span class="ver-mais">Ver mais</span>
        </div>

        <div class="produto" onclick="mostrarPopup('img/perfume1.jpg', 'Perfume Elegance', 'Intenso e marcante, ideal para a noite.', 'R$ 179,90')">
          <img src="img/perfume1.jpg" alt="Perfume 1">
          <p><strong>Perfume Elegance</strong></p>
          <p class="preco">R$ 159,90</p>
          <span class="ver-mais">Ver mais</span>
        </div>

        <div class="produto" onclick="mostrarPopup('img/perfume4.jpg', 'Perfume Summer', 'Fresco, cÃ­trico e perfeito para os dias quentes.', 'R$ 129,90')">
          <img src="img/perfume4.jpg" alt="Perfume 4">
          <p><strong>Perfume Summer</strong></p>
          <p class="preco">R$ 129,90</p>
          <span class="ver-mais">Ver mais</span>
        </div>

      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Perfume Luxe. Todos os direitos reservados.</p>
  </footer>
  <!--importa os scripts da pagina-->
  <script src="js/index.js"></script>

   <!-- SCRIPT PARA REGISTRAR VISITAS -->
   <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

    const supabaseUrl = "https://iccsymcldmrjybyukqbv.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImljY3N5bWNsZG1yanlieXVrcWJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwOTQwNTAsImV4cCI6MjA1OTY3MDA1MH0.yzmH4-GQQgLG1wJAGRwvo19AV-qwIwCy56Q0M78l7u0";

    const supabase = createClient(supabaseUrl, supabaseKey);

    async function registrarVisita() {
      try {
        const cidade = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const dispositivo = navigator.userAgent;

        const { error } = await supabase.from('visitas').insert([{
          cidade: cidade,
          dispositivo: dispositivo,
          criado_em: new Date().toISOString(),
        }]);

        if (error) throw error;
        console.log('Visita registrada com sucesso');
      } catch (err) {
        console.error('Erro ao registrar visita:', err.message);
      }
    }

    registrarVisita();
  </script>
</body>
</html>

</body>
</html>
